<Page x:Class="DotBotCarClient.Views.ControlsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="#111111">

    <Grid Margin="20">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ======================= -->
        <!--   1. 실내 온도 표시 영역 -->
        <!-- ======================= -->
        <StackPanel Grid.Row="0" HorizontalAlignment="Center" Margin="0,20,0,10">
            <TextBlock x:Name="InteriorTempText"
                       Text="Interior: 23°C"
                       FontSize="26"
                       FontWeight="SemiBold"
                       Foreground="White"
                       HorizontalAlignment="Center"/>

            <!-- 온도 조절 UI -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,15,0,0">

                <!-- 감소 버튼 -->
                <Border Width="45" Height="40" CornerRadius="6"
                        Background="#222222" Margin="10">
                    <Border.InputBindings>
                        <MouseBinding MouseAction="LeftClick" Command="{x:Static ApplicationCommands.NotACommand}" />
                    </Border.InputBindings>

                    <TextBlock Text="−"
                               MouseDown="DecreaseTemp_Click"
                               FontSize="24"
                               Foreground="White"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
                </Border>

                <!-- 목표 온도 표시 -->
                <TextBlock x:Name="TargetTempText"
                           Text="22°C"
                           Foreground="White"
                           FontSize="22"
                           VerticalAlignment="Center"/>

                <!-- 증가 버튼 -->
                <Border Width="45" Height="40" CornerRadius="6"
                        Background="#222222" Margin="10">
                    <TextBlock Text="+"
                               MouseDown="IncreaseTemp_Click"
                               FontSize="24"
                               Foreground="White"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
                </Border>

            </StackPanel>
        </StackPanel>



        <!-- ======================= -->
        <!--      2. ICON GRID       -->
        <!-- ======================= -->
        <UniformGrid Grid.Row="1" Columns="2" Rows="2"
                     HorizontalAlignment="Center"
                     Margin="0,10,0,0" >

            <!-- AIR -->
            <Border x:Name="AirBtn"
                    Width="90" Height="90"
                    Background="#222222"
                    CornerRadius="45"
                    Margin="12"
                    MouseDown="Air_Click">
                <Image Source="/Assets/air.png" Width="45" Height="45"/>
            </Border>

            <!-- HEAT -->
            <Border x:Name="HeatBtn"
                    Width="90" Height="90"
                    Background="#222222"
                    CornerRadius="45"
                    Margin="12"
                    MouseDown="Heat_Click">
                <Image Source="/Assets/heat.png" Width="45" Height="45"/>
            </Border>

            <!-- LIGHT -->
            <Border x:Name="LightBtn"
                    Width="90" Height="90"
                    Background="#222222"
                    CornerRadius="45"
                    Margin="12"
                    MouseDown="Light_Click">
                <Image Source="/Assets/light.png" Width="45" Height="45"/>
            </Border>

            <!-- HORN -->
            <Border x:Name="HornBtn"
                    Width="90" Height="90"
                    Background="#222222"
                    CornerRadius="45"
                    Margin="12"
                    MouseDown="Horn_Click">
                <Image Source="/Assets/horn.png" Width="45" Height="45"/>
            </Border>

        </UniformGrid>



        <!-- ======================= -->
        <!--     3. 하단 영역        -->
        <!-- ======================= -->
        <StackPanel Grid.Row="2" Margin="0,20,0,10">

            <!-- VALET MODE -->
            <StackPanel Orientation="Horizontal" Margin="10,10,0,5">
                <TextBlock Text="VALET MODE"
                           FontSize="16"
                           Foreground="White"
                           VerticalAlignment="Center"/>

                <ToggleButton x:Name="ValetToggle"
                              Width="50" Height="22"
                              Margin="15,0,0,0"
                              Checked="ValetToggle_Checked"
                              Unchecked="ValetToggle_Unchecked">
                    <ToggleButton.Style>
                        <Style TargetType="ToggleButton">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ToggleButton">
                                        <Grid Width="50" Height="22">
                                            <Border x:Name="SwitchBackground"
                                                    Background="#555"
                                                    CornerRadius="11"/>
                                            <Ellipse x:Name="SwitchKnob"
                                                     Fill="White"
                                                     Width="18" Height="18"
                                                     Margin="2"/>
                                        </Grid>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsChecked" Value="True">
                                                <Setter TargetName="SwitchBackground" Property="Background" Value="#4CAF50"/>
                                                <Setter TargetName="SwitchKnob" Property="Margin" Value="30,2,0,0"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </ToggleButton.Style>
                </ToggleButton>
            </StackPanel>

            <!-- DRIVE / PARK 버튼 -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,10">

                <Border Width="140" Height="55" CornerRadius="10"
                        Background="#333333" Margin="10"
                        x:Name="DriveBtn" MouseDown="DriveBtn_Click">
                    <TextBlock Text="DRIVE" Foreground="White"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center" FontSize="18"/>
                </Border>

                <Border Width="140" Height="55" CornerRadius="10"
                        Background="#333333" Margin="10"
                        x:Name="ParkBtn" MouseDown="ParkBtn_Click">
                    <TextBlock Text="PARK" Foreground="White"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center" FontSize="18"/>
                </Border>

            </StackPanel>

            <!-- BACK -->
            <Border Height="55" Background="#222" CornerRadius="10"
                    MouseDown="Back_Click">
                <TextBlock Text="BACK" Foreground="White"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           FontSize="20"/>
            </Border>

        </StackPanel>

    </Grid>
</Page>
