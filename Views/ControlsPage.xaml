<Page
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:av="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="av" x:Class="DotBotCarClient.Views.ControlsPage"
      Style="{StaticResource TeslaPage}"
      Title="ControlsPage" av:DesignHeight="619" av:DesignWidth="401">

    <Grid x:Name="RootGrid" Margin="-15,0,-2,0">

        <!-- 모든 속성 요소를 먼저 선언 -->
        <Grid.RenderTransform>
            <TranslateTransform X="40"/>
        </Grid.RenderTransform>

        <Grid.Triggers>
            <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                <BeginStoryboard>
                    <Storyboard>
                        <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                         From="0" To="1" Duration="0:0:0.4"/>
                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                         From="40" To="0" Duration="0:0:0.4"/>
                    </Storyboard>
                </BeginStoryboard>
            </EventTrigger>
        </Grid.Triggers>

        <Grid.RowDefinitions>
            <RowDefinition Height="9.397"/>
            <RowDefinition Height="57.603"/>
            <RowDefinition Height="59*"/>
            <RowDefinition Height="317*"/>
            <RowDefinition Height="18*"/>
            <RowDefinition Height="151"/>
            <RowDefinition Height="7"/>
        </Grid.RowDefinitions>

        <!-- 배경 이미지 (car.png) - 희미하게 -->
        <Image Source="/Assets/carInside.png" 
               Stretch="Uniform"
               Opacity="0.15"
               HorizontalAlignment="Center"
               VerticalAlignment="Center"
               Grid.RowSpan="7"/>

        <!-- 상단 -->
        <Grid Grid.Row="1" Margin="20,11,20,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50"/>
                <!-- Back 버튼 영역 -->
                <ColumnDefinition/>
                <!-- Title 가운데 -->
                <ColumnDefinition Width="50"/>
                <!-- 빈 영역 -->
            </Grid.ColumnDefinitions>

            <!-- 🔙 Back Button -->
            <Button Grid.Column="0"
            x:Name="BackBtn"
            Click="Back_Click"
            Width="40"
            Height="40"
            Background="Transparent"
            BorderBrush="Transparent"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            Panel.ZIndex="10">
                <!-- ← 클릭 우선! -->
                <TextBlock Text="&lt;"
                   FontSize="20"
                   Foreground="{StaticResource TeslaSecondaryText}"/>
            </Button>

            <!-- 📌 Center Title -->
            <TextBlock Grid.Column="1"
               Text="CONTROLS"
               Style="{StaticResource TeslaTitle}"
               HorizontalAlignment="Center"
               VerticalAlignment="Center"/>
        </Grid>

        <!-- 온도 -->
        <Grid Grid.Row="2" VerticalAlignment="Top" Margin="0,40,0,0" Height="67" Grid.RowSpan="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0" Content="–"
                    Width="50" Height="50"
                    Click="DecreaseTemp_Click"
                    Margin="0,0,10,0"
                    HorizontalAlignment="Right"/>

            <TextBlock x:Name="TargetTempText"
                       Grid.Column="1"
                       Text="22°C"
                       Style="{StaticResource TeslaTitle}"
                       FontSize="50"
                       VerticalAlignment="Center"/>

            <Button Grid.Column="2" Content="+"
                    Width="50" Height="50"
                    Click="IncreaseTemp_Click"
                    Margin="10,0,0,0"
                    HorizontalAlignment="Left"/>
        </Grid>

        <!-- 아이콘 4개 -->
        <Grid Grid.Row="3"
              HorizontalAlignment="Center"
              VerticalAlignment="Top"
              Margin="0,80,0,0"
              Width="294" Height="259" Grid.RowSpan="3">

            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>

            <!-- Air -->
            <Border x:Name="AirBtn" Style="{StaticResource TeslaIconBox}"
                    Grid.Row="0" Grid.Column="0">
                <Button Click="Air_Click" Background="Transparent" BorderBrush="Transparent">
                    <StackPanel HorizontalAlignment="Center">
                        <Image Source="/Assets/air.png" Width="46"/>
                        <TextBlock Text="Air"
                                   Style="{StaticResource TeslaSubText}"
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </Border>

            <!-- Heat -->
            <Border x:Name="HeatBtn" Style="{StaticResource TeslaIconBox}"
                    Grid.Row="0" Grid.Column="1">
                <Button Click="Heat_Click" Background="Transparent" BorderBrush="Transparent">
                    <StackPanel HorizontalAlignment="Center">
                        <Image Source="/Assets/heat.png" Width="46"/>
                        <TextBlock Text="Heat"
                                   Style="{StaticResource TeslaSubText}"
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </Border>

            <!-- Light -->
            <Border x:Name="LightBtn" Style="{StaticResource TeslaIconBox}"
                    Grid.Row="1" Grid.Column="0">
                <Button Click="Light_Click" Background="Transparent" BorderBrush="Transparent">
                    <StackPanel HorizontalAlignment="Center">
                        <Image Source="/Assets/light.png" Width="46"/>
                        <TextBlock Text="Light"
                                   Style="{StaticResource TeslaSubText}"
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </Border>

            <!-- Horn -->
            <Border x:Name="HornBtn" Style="{StaticResource TeslaIconBox}"
                    Grid.Row="1" Grid.Column="1">
                <Button Click="Horn_Click" Background="Transparent" BorderBrush="Transparent">
                    <StackPanel HorizontalAlignment="Center">
                        <Image Source="/Assets/horn.png" Width="46"/>
                        <TextBlock Text="Horn"
                                   Style="{StaticResource TeslaSubText}"
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </Border>
        </Grid>

        <!-- 하단 Valet / Drive / Park -->
        <StackPanel Grid.Row="5" Margin="30,20,30,33">

            <Grid Margin="0,0,0,20">
                <TextBlock Text="Valet Mode"
                           Style="{StaticResource TeslaSubText}"
                           HorizontalAlignment="Left"/>

                <ToggleButton x:Name="ValetToggle"
                              HorizontalAlignment="Right"
                              Style="{StaticResource TeslaToggleSwitch}"
                              Checked="ValetToggle_Checked"
                              Unchecked="ValetToggle_Unchecked"/>
            </Grid>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <Button x:Name="DriveBtn" Content="Drive"
                        Grid.Column="0"
                        Click="DriveBtn_Click"
                        Margin="0,0,9,-50"/>

                <Button x:Name="ParkBtn" Content="Park"
                        Grid.Column="1"
                        Click="ParkBtn_Click"
                        Margin="5,0,0,-51"/>
            </Grid>

        </StackPanel>

    </Grid>
</Page>